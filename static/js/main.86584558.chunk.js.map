{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","utils/utils.js","components/App.js","index.js","images/header-logo.svg","images/delete-button.svg"],"names":["Header","className","src","headerlogo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","user","cardLikeButtonClassName","link","name","onClick","type","deletebutton","aria-label","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","key","Footer","PopupWithForm","title","buttonSubmitText","children","isOpen","onClose","onSubmit","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","id","value","placeholder","required","minLength","maxLength","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarLink","useRef","current","ref","AddPlacePopup","setLink","ImagePopup","api","baseUrl","headers","_makeRequest","url","options","fetch","then","res","ok","json","Promise","reject","status","this","_baseUrl","_headers","method","body","JSON","stringify","likeCardStatus","authorization","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","all","getProfileInfo","getInitialCards","userData","catch","err","console","log","Provider","handleLikeCardStatus","cardHandledLikes","c","deleteCard","filter","editProfile","userUpdatedData","editAvatar","addCard","userAddedCard","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.86584558.chunk.js","sourcesContent":["import React from \"react\";\r\nimport headerlogo from \"../images/header-logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\"> \r\n        <img className=\"header__logo\" src={headerlogo} alt=\"логотип\"/>\r\n      </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext.js\";\r\nimport deletebutton from \"../images/delete-button.svg\";\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = `elements__element-delete ${isOwn ? \"elements__element-delete_active\" : ''}`; \r\n\r\n    const isLiked = card.likes.some(user => user._id === currentUser._id);\r\n    const cardLikeButtonClassName = `elements__element-like ${isLiked ? \"elements__element-like_active\": ''}`;\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n      }\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card);\r\n      }\r\n\r\n      function handleDeleteClick() {\r\n        onCardDelete(card);\r\n      }\r\n\r\n    return (\r\n        <div className=\"elements__element\">\r\n            <div className= \"elements__element-image\">\r\n                <img \r\n                    className=\"elements__element-photo\" \r\n                    src={`${card.link}`} \r\n                    alt={`${card.name}`}\r\n                    onClick={handleClick}\r\n                />\r\n                <button \r\n                    className={cardDeleteButtonClassName}\r\n                    onClick={handleDeleteClick}\r\n                    type=\"button\">\r\n                    <img src={deletebutton} alt=\"Delete\"/>\r\n                </button>\r\n            </div>\r\n            <div className=\"elements__element-place\">\r\n                <h3 className=\"elements__element-title\">{card.name}</h3>\r\n                <div className=\"elements__element-like-container\">\r\n                    <button \r\n                        className={cardLikeButtonClassName}\r\n                        onClick={handleLikeClick}\r\n                        type=\"button\" \r\n                        aria-label=\"Like\">\r\n                    </button>\r\n                    <span className=\"elements__element-like-count\">{card.likes.length}</span>\r\n                </div> \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n    \r\nexport default Card;\r\n\r\n","import React from \"react\";\r\nimport \"../index.css\";\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n      <div className=\"profile__info-container\">\r\n        <div className=\"profile__avatar-container\">\r\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар пользователя\"/>\r\n          <div className=\"profile__avatar-overlay\">\r\n            <button className=\"profile__avatar-button\" type=\"button\" aria-label=\"Edit\" onClick={onEditAvatar}></button>\r\n          </div>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__info-title\">{currentUser.name}</h1>\r\n          <button className=\"profile__edit-button\" type=\"button\" aria-label=\"Edit\" onClick={onEditProfile}></button>\r\n          <p className=\"profile__info-subtitle\">{currentUser.about}</p>\r\n        </div>\r\n      </div>  \r\n      <button className=\"profile__add-button\" type=\"button\" aria-label=\"Add\" onClick={onAddPlace}></button>\r\n    </section>\r\n    <section className=\"elements\">\r\n      {cards.map((card) => {\r\n          return (\r\n            <Card key={card._id} card={card} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete}/>\r\n          );\r\n        })}\r\n    </section>\r\n  </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from \"react\";\r\n\r\nfunction Footer () {\r\n  return (\r\n    <footer className=\"footer\">\r\n    <p className=\"footer__copyright\">&copy;2021.&nbsp;Mesto Russia</p>\r\n  </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nfunction PopupWithForm({ title, name, buttonSubmitText, children, isOpen, onClose, onSubmit }) {\r\n\r\n  return (\r\n    <div className={`popup ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n      <div className={`popup__container popup__container_${name}`}>\r\n        <h3 className=\"popup__title\">{title}</h3>\r\n        <form className=\"popup__form\" name={`popup__form_${name}`} onSubmit={onSubmit}>\r\n          {children}\r\n          <button className=\"popup__save-button\" type=\"submit\" >{buttonSubmitText}</button>\r\n        </form>\r\n        <button className=\"popup__close-button\" type=\"button\" aria-label=\"Close\" onClick={onClose}></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const [name, setName] = React.useState(\"name\");\r\n  const [description, setDescription] = React.useState(\"about\");\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleAboutChange(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({name, about: description});\r\n  } \r\n\r\n  return ( \r\n    <PopupWithForm\r\n        title=\"Редактировать профиль\"\r\n        name=\"edit\"\r\n        buttonSubmitText=\"Сохранить\"\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n    >          \r\n        <div className=\"popup__form-field\">\r\n        <input \r\n            className=\"popup__input popup__input_name\" \r\n            id=\"name\" \r\n            type=\"text\" \r\n            name=\"name\" \r\n            value={name} \r\n            placeholder=\"Ваше имя\" \r\n            required \r\n            minLength=\"2\" \r\n            maxLength=\"40\"\r\n            onChange={handleNameChange}\r\n        />\r\n        <span className=\"popup__input-error name-error\"></span>\r\n        </div>\r\n        <div className=\"popup__form-field\"> \r\n        <input \r\n            className=\"popup__input popup__input_about\" \r\n            id=\"about\" \r\n            type=\"text\" \r\n            name=\"about\"\r\n            value={description} \r\n            placeholder=\"Ваш род деятельности\" \r\n            required \r\n            minLength=\"2\" \r\n            maxLength=\"200\"\r\n            onChange={handleAboutChange}\r\n        />\r\n        <span className=\"popup__input-error about-error\"></span>\r\n        </div>\r\n    </PopupWithForm>\r\n    );\r\n}\r\n    \r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarLink = React.useRef(); \r\n  \r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar({avatar: avatarLink.current.value});\r\n  } \r\n\r\n  return ( \r\n    <PopupWithForm\r\n        title=\"Обновить аватар\"\r\n        name=\"avatar\"\r\n        buttonSubmitText=\"Сохранить\"\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n    >          \r\n        <div className=\"popup__form-field\">\r\n            <input \r\n                className=\"popup__input popup__input_avatar\" \r\n                id=\"avatar\" \r\n                type=\"url\" \r\n                name=\"avatar\"\r\n                ref={avatarLink}\r\n                placeholder=\"Ссылка на аватар\" \r\n                required\r\n            />\r\n            <span className=\"popup__input-error avatar-error\"></span>\r\n          </div>\r\n    </PopupWithForm>\r\n    );\r\n}\r\n    \r\nexport default EditAvatarPopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n  }, [isOpen]); \r\n\r\n  function handleCardNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleCardLinkChange(evt) {\r\n    setLink(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace({name, link});\r\n  } \r\n\r\n  return ( \r\n    <PopupWithForm\r\n        title=\"Новое место\"\r\n        name=\"add\"\r\n        buttonSubmitText=\"Создать\"\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n    >                 \r\n        <div className=\"popup__form-field\"> \r\n            <input \r\n                className=\"popup__input popup__input_place\" \r\n                id=\"place\" \r\n                type=\"text\" \r\n                name=\"place\"\r\n                value={name} \r\n                placeholder=\"Название\" \r\n                required \r\n                minLength=\"2\" \r\n                maxLength=\"30\"\r\n                onChange={handleCardNameChange}\r\n            />\r\n            <span className=\"popup__input-error place-error\"></span>\r\n        </div>\r\n        <div className=\"popup__form-field\">\r\n            <input \r\n                className=\"popup__input popup__input_image\" \r\n                id=\"image\" \r\n                type=\"url\" \r\n                name=\"link\"\r\n                value={link} \r\n                placeholder=\"Ссылка на картинку\" \r\n                required\r\n                onChange={handleCardLinkChange}\r\n            />\r\n            <span className=\"popup__input-error image-error\"></span>\r\n        </div>       \r\n    </PopupWithForm>\r\n    );\r\n}\r\n    \r\nexport default AddPlacePopup;","import React from \"react\";\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n  return (\r\n    <div className={`popup popup_image ${card.link ? \"popup_opened\" : \"\"}`}>\r\n      <div className=\"popup__photo-container\">\r\n        <img className=\"popup__photo\" src={`${card.link}`} alt={`${card.name}`} />\r\n        <p className=\"popup__photo-caption\">{card.name}</p>\r\n        <button \r\n          className=\"popup__close-button popup__close-button_photo\" \r\n          type=\"button\" \r\n          aria-label=\"Close\"\r\n          onClick={onClose}>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n\r\n\r\n\r\n\r\n","import { apiSettings } from \"./utils.js\";\r\nclass Api {\r\n    constructor({baseUrl, headers}) {\r\n      this._baseUrl = baseUrl;\r\n      this._headers = headers;\r\n    }\r\n\r\n    _makeRequest = (url, options = {}) => {\r\n      return fetch(url, options)\r\n      .then((res) => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n    }\r\n\r\n    getProfileInfo() {\r\n      return this._makeRequest(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers\r\n    })\r\n  } \r\n\r\n    getInitialCards() {\r\n      return this._makeRequest(`${this._baseUrl}/cards`, {\r\n      headers: this._headers\r\n    })\r\n  } \r\n\r\n    editProfile(user) {\r\n      return this._makeRequest(`${this._baseUrl}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          name: user.name,\r\n          about: user.about\r\n        })\r\n      })\r\n    }\r\n\r\n   editAvatar(avatar) {\r\n    return this._makeRequest(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar\r\n      })\r\n    })\r\n  }\r\n\r\n    addCard(card) {\r\n      return this._makeRequest(`${this._baseUrl}/cards`, {\r\n        method: 'POST',\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          name: card.name,\r\n          link: card.link\r\n        })\r\n      })\r\n    }\r\n\r\n    deleteCard(card) {\r\n      return this._makeRequest(`${this._baseUrl}/cards/${card._id}`, {\r\n        method: 'DELETE',\r\n        headers: this._headers\r\n      })\r\n    }\r\n\r\n    handleLikeCardStatus(card, likeCardStatus) {\r\n      return this._makeRequest(`${this._baseUrl}/cards/${card}/likes`, {\r\n        method: (likeCardStatus ? 'PUT': 'DELETE'),\r\n        headers: this._headers\r\n      })\r\n    }\r\n }\r\n   \r\nconst api = new Api(apiSettings); \r\nexport default api;","const apiSettings = {\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-39',\r\n    headers: {\r\n      authorization: 'd47f770a-d44b-46ab-a4b8-15da85bd32ea',\r\n      'Content-Type': 'application/json'\r\n    }\r\n  };\r\n  \r\n  export { apiSettings };","import React from \"react\";\nimport \"../index.css\";\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport api from \"../utils/api.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n      \n  React.useEffect(() => {\n    Promise.all([api.getProfileInfo(), api.getInitialCards()])\n    .then(([userData, cards]) => {\n      setCurrentUser(userData);\n      setCards(cards);\n    })\n    .catch((err) => {\n      console.log(err); \n    });\n}, []);\n\n  function handleUpdateUser(user) {\n    api.editProfile(user)\n      .then((userUpdatedData) => {\n        setCurrentUser({\n          ...currentUser,\n          name: userUpdatedData.name,\n          about: userUpdatedData.about,\n        });\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err); \n      });\n  }\n\n  function handleUpdateAvatar({avatar}) {\n    api.editAvatar(avatar)\n      .then((userUpdatedData) => {\n        setCurrentUser({\n          ...currentUser,\n          avatar: userUpdatedData.avatar,\n        });\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err); \n      });\n  }\n  \n  function handleAddPlaceSubmit(card) {\n    api.addCard(card)\n      .then((userAddedCard) => {\n        setCards([userAddedCard, ...cards]);\n        closeAllPopups();\n       })\n       .catch((err) => {\n         console.log(err); \n       });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(user => user._id === currentUser._id);\n    api.handleLikeCardStatus(card._id, !isLiked)\n    .then((cardHandledLikes) => {\n      setCards(cards.map((c) => c._id === card._id ? cardHandledLikes : c));\n      })\n      .catch((err) => {\n        console.log(err); \n      });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card)\n    .then(() => {\n      setCards(cards.filter((c) => c._id !== card._id));\n    })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setSelectedCard({});\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main \n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        \n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}     \n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />          \n          \n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}             \n        />\n\n        <ImagePopup \n          card={selectedCard} \n          onClose={closeAllPopups} \n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n","module.exports = __webpack_public_path__ + \"static/media/header-logo.400f7dde.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete-button.4831282e.svg\";"],"sourceRoot":""}